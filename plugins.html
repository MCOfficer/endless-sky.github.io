---
layout: default
title: Endless Sky Plugin List
---

<var id=pluginlist></var>

<script type="text/javascript">
	function stripQuotes(string) {
        return string.replace(new RegExp("\"", "g"), "")
	}
	function createPluginsTableLine(name, url, version, icon, description)
    {
        if (name == "")
            return "";

        let tableLine = "<tr><td>";
        if(icon != ""){
            tableLine += "<img src=\"" + icon + "\" />";
        }
        else{
            tableLine += "&nbsp;";
        }
        tableLine += "</td><td>";
        if(url != ""){
            tableLine += "<a href=\"" + url + "\">";
        }
        tableLine += name;
        if(url != ""){
            tableLine += "</a>";
        }
        tableLine += "</td><td>";
        if(description != ""){
            tableLine += description;
        }
        else{
            tableLine += "&nbsp;";
        }
        tableLine += "</td></tr>";
        return tableLine;
    }

    function createPluginsTable(responseText)
    {
        let pluginsTable = "<table><tbody>";

        lines = responseText.split("\n");

        pluginName = "";
        pluginUrl = "";
        pluginVersion = "";
        pluginIcon = "";
        pluginDescription = "";

        for(i=0; i < lines.length; i++){
            if(lines[i].startsWith("plugin ")){
                // Write out any previous lines if we have any
                pluginsTable += createPluginsTableLine(pluginName, pluginUrl, pluginVersion, pluginIcon, pluginDescription);

                pluginName = stripQuotes(lines[i].substring(7));
                pluginUrl = "";
                pluginVersion = "";
                pluginIcon = "";
                pluginDescription = "";
            }
            else if(!lines[i].startsWith("\t")){
                // Write out any previous lines if we have any
                pluginsTable += createPluginsTableLine(pluginName, pluginUrl, pluginVersion, pluginIcon, pluginDescription);

                pluginName = "";
                pluginUrl = "";
                pluginVersion = "";
                pluginIcon = "";
                pluginDescription = "";
            }
            else if(pluginName != ""){
                let subLine = lines[i].substring(1);
                if (subLine.startsWith("url ")){
                    pluginUrl = stripQuotes(lines[i].substring(4));
                }
                else if (subLine.startsWith("version ")){
                    pluginVersion = stripQuotes(lines[i].substring(8));
                }
                else if (subLine.startsWith("iconUrl ")){
                    pluginIcon = stripQuotes(lines[i].substring(8));
                }
                else if (subLine.startsWith("description ")){
                    pluginDescription = stripQuotes(lines[i].substring(12));
                }
            }
        }
        // Write out any last line if we have any
        pluginsTable += createPluginsTableLine(pluginName, pluginUrl, pluginVersion, pluginIcon, pluginDescription);

        pluginsTable += "</tbody></table>";
        return pluginsTable;
    }


    function writePluginsTable()
    {
        const responseText = httpReq.responseText;
        const newTable = createPluginsTable(responseText);
        document.getElementById("pluginlist").innerHTML = newTable;
    }

	// TODO (@MCOfficer): Change this before merge
    const pluginsList = "https://raw.githubusercontent.com/MCOfficer/endless-sky/plugin_manager/plugins.txt";

    let httpReq = new XMLHttpRequest();
    httpReq.addEventListener('load', writePluginsTable);
    httpReq.open("get", pluginsList, true);
    httpReq.overrideMimeType("text/plain");
    httpReq.send();
</script>

<p>A proof-of-concept plugin sharing site is available at <a href="https://opengamemods-group.github.io/ES-Mod-Share/">opengamemods-group.github.io/ES-Mod-Share/</a>.</p>
<p>Instructions for <a href="https://github.com/endless-sky/endless-sky/wiki/CreatingPlugins">creating plugins</a> are on the wiki.</p>
<p>Eventually, it will be possible to download and install plugins from within the game. To support both that and a more detailed plugin listing here on the website, each plugin will need to provide, at minimum:</p>
<ul>
	<li><p>A title, author name, and short description.</p></li>
	<li><p>A longer description to be shown if the user clicks on a particular plugin in the gallery to view more information.</p></li>
	<li><p>A list of tags to be used when filtering the plugin list.</p></li>
	<li><p>A "cover image" representing the mod. These will all be required to be a certain size, but I haven't decided yet what the size should be.</p></li>
	<li><p>One or more screenshots of the plugin in action. All screenshots should have a 16:9 aspect ratio, e.g. 1280&times;720 or 1920&times;1080. (You can edit your preferences file to set the window size to an exact value.)</p></li>
	<li><p>A download link to a zip file. Ideally, the download link changes every time a new version of the mod is released, both so that older versions remain accessible and so that the game client will be able to tell from the path when a new version is available.</p></li>
</ul>
<p>The preferred way to host a plugin is to create a GitHub repository for it. The "gh-pages" branch of the repository should contain the cover image and screenshots, and may also host a web page providing more information about the plugin. The "master" branch should contain the plugin itself. New downloads can be created just by tagging a release in the master branch.</p>
